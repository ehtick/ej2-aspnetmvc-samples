@using Syncfusion.EJ2
@using EJ2MVCSampleBrowser.Models
@using Syncfusion.EJ2.DropDowns
@section ControlsSection{
    <div class="control-section">
        <div class="control-wrapper">
            @Html.EJS().RichTextEditor("mentionIntegration").ActionBegin("actionBegin").ContentTemplate(@<div>
                <p>Hello <span contenteditable="false" class="e-mention-chip"><a href="mailto:maria@gmail.com" title="maria@gmail.com">@@Maria</a></span>&#8203;</p>
                <p>Welcome to the mention integration with rich text editor demo. Type <code>@@</code> character and tag user from the suggestion list. </p>
            </div>).Render()
            @Html.EJS().Mention("mentionRTE").MentionChar((char)ViewData["MentionChar"]).Created("onMentionCreate").Target("#mentionIntegration_rte-edit-view").DataSource((IEnumerable<EmailData>)ViewData["emails"]).AllowSpaces(true).Fields(new MentionFieldSettings { Text = "Name" }).SuggestionCount(8).Highlight(true).DisplayTemplate("<a href='mailto:${ EmailId}'>@${ Name}</a>").ItemTemplate("<table><tr><td><div id=\"mention-TemplateList\"><img class=\"mentionEmpImage\" src=\"../Content/Images/RichTextEditor/${Eimg}.png\" alt=\"employee\" /><span class=\"e-badge e-badge-success e-badge-overlap e-badge-dot e-badge-bottom ${Status}\"></span></div></td><td><span class=\"person\">${Name}</span><span class=\"email\">${EmailId}</span></td</tr></table>").PopupWidth("250px").PopupHeight("200px").Render()
        </div>
    </div>
}

@*custom code start*@

@section Meta{
    <meta name="description" content="This example demonstrates the Default Functionalities in ASP.NET MVC Rich Text Editor control. Explore here for more details." />
}

@*custom code end*@

@section ActionDescription{
    <div id="action-description">
        <p>This example shows how to integrate @@mention component within Rich Text Editor component. Type <code>@@</code> character and select a user from the suggestion list.</p>
    </div>
}
@section Description{
    <div id="description">
        <p> The @@Mention is a component used to display a list of items that users can select or tag from the suggested list. In this demo, configured the following properties with popup dimensions.</p>
        <ul>
            <li><code>allowSpaces</code> - Allows to search a word with space.</li>
            <li><code>suggestionCount</code> - Control the items in suggestion list.</li>
            <li><code>itemTemplate</code> - Used to display the customized appearance in suggestion list.</li>
        </ul>
    </div>
}


@section Title{
    <title>ASP.NET MVC Rich Text Editor Mention Integration Example - Syncfusion Demos </title>
}
@section Header{
    <h1 class='sb-sample-text'>Example of Mention Integration in ASP.NET MVC Rich Text Editor Control</h1>
}
<style>
    #mention-TemplateList {
        position: relative;
        display: inline-block;
        padding:2px;
    }

    .person, .email {
        display: block;
        line-height: 20px;
        text-indent: 5px;
    }

    .person {
        font-size: 16px;
    }

    .mentionEmpImage {
        display: inline-block;
        width: 46px;
        height: 46px;
        padding: 3px;
        border-radius: 25px;
    }

    #mention-TemplateList .e-badge-success {
        left: 76%;
        bottom: 4px;
        top: auto;
    }

    #mention_integration_rte-edit-view_popup .e-dropdownbase .e-list-item {
        line-height: 8px;
    }

    #mention-TemplateList .e-badge-success {
        background-color: #4d841d;
        color: #fff;
    }

    #mention-TemplateList .e-badge-success.away {
        background-color: #fedd2d;
        color: #fff;
    }

    #mention-TemplateList .e-badge-success.busy {
        background-color: #de1a1a;
        color: #fff;
    }

    #mention-TemplateList .e-badge.e-badge-dot {
        height: 10px;
        width: 10px;
    }
    #mentionIntegration .e-mention-chip{
         cursor: pointer;
    }
</style>

<script>
       var mentionObj;
        function actionBegin(args) {
            if (args.requestType === 'EnterAction' && mentionObj.element.classList.contains('e-popup-open')) {
                args.cancel = true;
            }
        }
        function onMentionCreate() {
            mentionObj = this;
        }
</script>
