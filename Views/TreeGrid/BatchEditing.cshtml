@using Syncfusion.EJ2
@using Syncfusion.EJ2.Grids

@{
    ViewData["Title"] = "BatchEditing";
}

<h2>BatchEditing</h2>

@*custom code end*@

@section ControlsSection{
    <div class="control-section">
        @{
            var dict = new Dictionary<string, object>();
            dict.Add("number", true);
            dict.Add("min", 0);
        }
        @Html.EJS().TreeGrid("BatchEditing").DataSource((IEnumerable<object>)ViewData["datasource"]).EditSettings(edit =>
    {
        edit.AllowAdding(true);
        edit.AllowDeleting(true);
        edit.AllowEditing(true);
        edit.Mode(Syncfusion.EJ2.TreeGrid.EditMode.Batch);
        edit.NewRowPosition(Syncfusion.EJ2.TreeGrid.RowPosition.Below);
    }).Toolbar(new List<string>() { "Add", "Delete", "Update", "Cancel" }).Columns(col =>
    {
        col.Field("TaskId").HeaderText("Task ID").IsPrimaryKey(true).ValidationRules(new { required = true, number = true }).Width(90).TextAlign(TextAlign.Right).Add();
        col.Field("TaskName").HeaderText("Task Name").EditType("stringedit").ValidationRules(new { required = true }).Width(220).Add();
        col.Field("StartDate").HeaderText("Start Date").Format("yMd").TextAlign(TextAlign.Right).Width(130).EditType("datepickeredit").ValidationRules(new { required = true, date = "M/d/yyyy" }).Edit(new { @params = new { format = "M/d/yyyy" } }).Add();
        col.Field("Duration").HeaderText("Duration").Width(140).TextAlign(TextAlign.Right).EditType("numericedit").ValidationRules(dict).Edit(new { @params = new { format = "n" } }).Add();
        col.Field("Progress").HeaderText("Progress").Width(150).TextAlign(TextAlign.Right).EditType("numericedit").ValidationRules(dict).Edit(new { @params = new { format = "n" } }).Add();
        col.Field("Priority").HeaderText("Priority").Width(90).EditType("stringedit").ValidationRules(new { required = true }).Add();
    }).ChildMapping("Children").TreeColumnIndex(1).Height(400).Render()
    </div>

}

@*custom code start*@

@section Meta{
                    <meta name="description" content="This example demonstrates the Batch Editing in ASP.NET MVC Tree Grid control. Explore here for more details."/>
                }


@section ActionDescription{
    <div id="action-description">
        <p>
            This sample demonstrates CRUD operations in Tree Grid. You can perform CRUD operations as follows,
        </p>
        <ul>
            <li><code>Add </code> - To add new record, click Add toolbar button.</li>
            <li><code>Edit</code> - To edit record, double click a cell.</li>
            <li><code>Delete</code> - To delete record, click toolbar Delete button after selected a row.</li>
            <li><code>Update, Cancel</code> - You can save or discard changes by click toolbar Update and Cancel button respectively.</li>
        </ul>

    </div>
}

@section Description{
    <div id="description">
        <p>
            The Tree Grid supports CRUD operations. This CRUD operations can be configured in Tree Grid using <code>editSettings</code>. Also, it has different modes to manipulate the datasource.
        </p>
        <p>
            The available modes are,
        </p>
        <ul>
            <li><code>Row </code></li>
            <li><code>Cell</code></li>
            <li><code>Dialog</code></li>
            <li><code>Batch</code></li>
        </ul>
        <p>
            In this demo, Batch mode is enabled for editing by defining <code>editSettings.mode</code> as <code>Batch</code> with <code>editSettings.newRowPosition</code> as <code>Below</code>. You can start editing by double clicking a cell and can change the cell value. The edited cell will be highlighted while navigating to a new cell, so that you know which cells had been edited. You can bulk save the edited data to the datasource by click on the toolbar's update button.
        </p>
        <p>
            <br /> More information about Batch Editing can be found in this <code>
                <a target="_blank" class="code"
                   href="https://ej2.syncfusion.com/aspnetmvc/documentation/tree-grid/editing/#batch" aria-label="documentation section">
                    documentation section.
                <span class="sr-only">opens in a new tab</span></a>
            </code>
        </p>

    </div>
}

@*custom code end*@
@section Title{
                    <title>ASP.NET MVC Tree Grid Batch Editing Example - Syncfusion Demos </title> 
                }
@section Header{
                    <h1 class='sb-sample-text'>Example of Batch Editing in ASP.NET MVC Tree Grid Control</h1>
                }