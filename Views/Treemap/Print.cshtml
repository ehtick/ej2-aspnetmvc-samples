@using Syncfusion.EJ2;
@using Syncfusion.EJ2.TreeMap;
@section ControlsSection{
    <div class="col-lg-9 control-section">
        <div class="content-wrapper">
            <div id="container">
                @Html.EJS().TreeMap("container").Load("load").AllowPrint(true).AllowImageExport(true).AllowPdfExport(true).TooltipSettings(new TreeMapTooltipSettings { Visible = true, Format = "${Product} (+${Percentage})" }).TitleSettings(title => title.Text("Top 10 best selling smartphone brands - 2017").TextStyle(new TreeMapFont { Size = "15px" })).LayoutType(Syncfusion.EJ2.TreeMap.LayoutMode.SliceAndDiceVertical).WeightValuePath("Percentage").RangeColorValuePath("Percentage").LeafItemSettings(leaf =>
           leaf.Fill("#6699cc").LabelPath("Product").Border(new TreeMapBorder { Color = "black", Width = 0.5 }).LabelPosition(Syncfusion.EJ2.TreeMap.LabelPosition.Center).InterSectAction(Syncfusion.EJ2.TreeMap.LabelAlignment.Hide).LabelFormat("${Product} (+${Percentage}) %")).Render()
            </div>
        </div>
        <div style="margin-left: 70%">
            Source:<a href="http//zeenews.india.com/photos/business/worlds-10-best-selling-smartphone-brands-2033958/samsung-2033959" target="_blank" aria-label="Source">zeenews.india.com</a>
        </div>
    </div>
    <div class="col-lg-3 property-section">
        <table id="property" title="Properties" style="width: 100%">
            <tbody>
                <tr style="height: 50px">
                    <td>
                        <div class="property-text" style="margin-left: -10px">
                            Export Type
                        </div>
                    </td>
                    <td>
                        <div>
                            <select id="mode">
                                <option value='JPEG'>JPEG</option>
                                <option value='PNG'>PNG</option>
                                <option value='SVG'>SVG</option>
                                <option value='PDF'>PDF</option>
                            </select>
                        </div>
                    </td>
                </tr>
                <tr style="height: 50px">
                    <td>
                        <div class="property-text" style="margin-left: -10px">File Name</div>
                    </td>
                    <td>
                        <div style='margin-top: 0px;'>
                            @Html.EJS().TextBox("fileName").Value("TreeMap").Width("100%").Render()
                        </div>
                    </td>
                </tr>
                <tr id="button-control" style="height: 50px" align='center'>
                    <td>
                        <div style="padding-left: 0px">
                            <button id="togglebtn1" style="text-transform:none !important;width:80px;">Export</button>
                        </div>
                    </td>
                    <td>
                        <div style="padding-left: 0px">
                            <button id="togglebtn" style="text-transform:none !important;width:80px;">Print</button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

    </div>

    <style>
        #control-container {
            padding: 0px !important;
        }
    </style>

    <script>
        var treemap;
        function load(args) {
            var theme = themeName ? themeName : 'Material';
            args.treemap.theme = ((theme.charAt(0).toUpperCase() +
                theme.slice(1)).replace(/-dark/i, 'Dark').replace(/-high/i, 'High').replace(/contrast/i, 'Contrast').replace(/5.3/i, '5'));
            args.treemap.dataSource = [
                { Product: " Samsung", Percentage: 22 },
                { Product: "Apple", Percentage: 11.2 },
                { Product: "Huawei", Percentage: 10.5 },
                { Product: "Oppo", Percentage: 8.4 },
                { Product: "Vivo", Percentage: 6.6 },
                { Product: "Xiaomi", Percentage: 6.3 },
                { Product: "LG", Percentage: 3.6 },
                { Product: "ZTE", Percentage: 3.3 },
                { Product: "Lenovo", Percentage: 3.2 },
                { Product: "Alcate", Percentage: 1.3 }
            ];
            args.treemap.leafItemSettings.colorMapping = [
                {
                    from: 1.3,
                    to: 22,
                    color: '#FAB665',
                    minOpacity: 0.5,
                    maxOpacity: 1
                }
            ];
            treemap = args.treemap;
        }
        var togglebtn = new ej.buttons.Button({
            cssClass: 'e-info', isPrimary: true
        });
        togglebtn.appendTo('#togglebtn');
        document.getElementById('togglebtn').onclick = () => {
            treemap.print();
        };
        var mode = new ej.dropdowns.DropDownList({
            index: 0,
            width: '100%'
        });
        mode.appendTo('#mode');
        var togglebtn1 = new ej.buttons.Button({
            cssClass: 'e-info', isPrimary: true
        });
        togglebtn1.appendTo('#togglebtn1');
        document.getElementById('togglebtn1').onclick = () => {
            var fileName = ((document.getElementById('fileName'))).value;
            treemap.export(mode.value, fileName);
        };
    </script>
    <style>
        #container {
            display: block;
            width: 100%;
        }
    </style>
}
@section ActionDescription{
    <p>
        This sample demonstrates the top 10 best-selling smartphone brands. Printing and exporting options has been enabled in this sample.
    </p>
}
@section Meta{
    <meta name="description" content="This example demonstrates the Print & Export in ASP.NET MVC TreeMap control. Explore here for more details." />
}
@section Description{
    <p>
        In this example, you can see how to export and print the rendered treemap. The TreeMap can be exported to JPEG, PNG, SVG, and PDF formats. Print functionality is done by <code>print</code> method when <code>AllowPrint</code> is set as true. Export functionality is done by <code>export</code> method when <code>AllowImageExport</code> and <code>AllowPdfExport</code> is set as true.
    </p>

    <p>
        More information about print and export can be found in this
        <a target="_blank" href="https://ej2.syncfusion.com/aspnetmvc/documentation/treemap/print-and-export" aria-label="documentation section" >documentation section</a>.
    </p>
}

@section Title{
    <title>ASP.NET MVC TreeMap Print & Export Example - Syncfusion Demos </title>
}
@section Header{
    <h1 class='sb-sample-text'>Example of Print & Export in ASP.NET MVC TreeMap Control</h1>
}